# jujutsuハンズオンガイド

Googleが開発した次世代バージョン管理システム **jujutsu（コマンド名：`jj`）** を、実際に手を動かして学べるハンズオン形式のガイドです。

## 🎯 このガイドについて

- **対象者**：jujutsu初心者（バージョン管理が初めての方でもOK）
- **形式**：対話型ハンズオン（コマンドを実行しながら学習）
- **レベル**：基本操作から中級レベルまで
- **所要時間**：各セクション30分〜1時間程度

## 📚 ガイドの構成

### [00. セットアップ](docs/jujutsu-hands-on/00-setup.md)（30分）

jujutsuのインストールと初期設定を行います。

**学習内容：**
- jujutsuのインストール方法
- 初期設定（ユーザー名、メールアドレス）
- エディタの設定
- 動作確認

**到達目標：**
- [ ] jujutsuがインストールされている
- [ ] 基本設定が完了している
- [ ] `jj --version`が動作する

---

### [01. 基本操作](docs/jujutsu-hands-on/01-basics.md)（45分）

jujutsuの基本的な操作を学びます。

**学習内容：**
- リポジトリの初期化（`jj git init`）
- ファイルの追加とコミット（`jj commit`）
- 履歴の確認（`jj log`）
- 差分の確認（`jj diff`）
- working copyの概念
- **`jj commit`の内部動作**（`describe` + `new`）
- **`jj new -m` vs `jj commit -m`の使い分け**

**到達目標：**
- [ ] リポジトリを作成できる
- [ ] ファイルをコミットできる
- [ ] 履歴を確認できる
- [ ] Gitとの違いを理解している
- [ ] `jj new -m`と`jj commit -m`の違いを理解している

**キーコンセプト：**
- ✨ ステージングエリアが不要
- ✨ working copyが自動的に作成される
- ✨ すべての変更が自動追跡される
- ✨ `jj commit` = `jj describe` + `jj new`
- ✨ `jj new -m`（先に宣言）と`jj commit -m`（後でまとめる）の使い分け

---

### [02. ブランチ操作](docs/jujutsu-hands-on/02-branches.md)（1時間）

複数の作業を並行して進める方法を学びます。

**学習内容：**
- 新しいコミットの作成（`jj new`）
- 過去のコミットへの移動（`jj edit`）
- ブックマーク（ブランチ）の作成（`jj bookmark create`）
- ブランチ間の移動
- change IDの使い方

**到達目標：**
- [ ] ブックマーク（ブランチ）を作成・切り替えできる
- [ ] 複数のブランチで作業できる
- [ ] 履歴の枝分かれを理解している
- [ ] change IDを使ってコミットを指定できる

**キーコンセプト：**
- ✨ `jj new`で新しい作業を開始
- ✨ `jj edit`で過去のコミットを編集
- ✨ change IDは内容を表す一意の識別子

---

### [03. マージとコンフリクト解決](docs/jujutsu-hands-on/03-merging.md)（1時間）

ブランチを統合し、コンフリクトを解決する方法を学びます。

**学習内容：**
- ブランチのマージ（`jj new parent1 parent2`）
- コンフリクトの確認（`jj status`）
- コンフリクトの解決（手動編集、`jj resolve`）
- マージの取り消し（`jj abandon`）

**到達目標：**
- [ ] 複数のブランチをマージできる
- [ ] コンフリクトを理解している
- [ ] コンフリクトを解決できる
- [ ] マージを取り消せる

**キーコンセプト：**
- ✨ コンフリクトは「状態」として保持される
- ✨ 後からいつでも解決できる
- ✨ コンフリクトを含んだままコミット可能

**補足資料：**
- 📚 [jj resolveの使い方完全ガイド](docs/jujutsu-hands-on/03-1-resolve-guide.md) - `jj resolve`の詳細な実践ガイド

---

### [04. 履歴編集](docs/jujutsu-hands-on/04-history-editing.md)（1時間30分）

jujutsuの最も強力な機能である履歴編集を学びます。

**学習内容：**
- コミットメッセージの修正（`jj describe`）
- コミット内容の変更（`jj edit`）
- コミットの統合（`jj squash`）
- コミットの分割（`jj split`）
- リベース（`jj rebase`）
- コミットの削除（`jj abandon`）
- 操作の取り消し（`jj op undo`）
- **ワークフローの比較**（Git風、スカッシュ、混合スタイル）

**到達目標：**
- [ ] コミットを自由に編集できる
- [ ] 履歴を整理できる
- [ ] 間違った操作を元に戻せる
- [ ] クリーンな履歴を作成できる
- [ ] 自分に合ったワークフローを選択できる

**キーコンセプト：**
- ✨ コミット後でも自由に編集可能
- ✨ すべての操作は記録され、元に戻せる
- ✨ change IDで同じコミットを追跡
- ✨ Git風、スカッシュ、混合スタイルの使い分け

---

### [05. 中級機能](docs/jujutsu-hands-on/05-advanced.md)（1時間30分）

jujutsuの高度な機能を使いこなします。

**学習内容：**
- change IDの深い理解
- working copyの仕組み
- revset言語（コミット選択のクエリ）
- 操作履歴の活用（`jj op log`）
- Gitとの連携（`jj git`）
- 設定のカスタマイズ
- 高度なワークフロー
- **🆕 v0.34.0の新機能**（`jj absorb`, `jj parallelize`, `jj evolog`, `jj fix`）

**到達目標：**
- [ ] change IDの利点を理解している
- [ ] revsetを使ってコミットを選択できる
- [ ] 操作履歴を活用できる
- [ ] Gitリポジトリと連携できる
- [ ] 自分のワークフローを確立できる

**キーコンセプト：**
- ✨ revsetで柔軟にコミットを選択
- ✨ 操作履歴でタイムトラベル
- ✨ Gitと完全互換

---

### [06. 実運用ワークフロー](docs/jujutsu-hands-on/06-workflows.md)（2時間）

実際の開発現場でjujutsuをどう使うかを学びます。

**学習内容：**
- 個人開発のワークフロー
- チーム開発のワークフロー
- GitHubとの連携
- PR作成とレビュー対応
- よくあるシナリオと対処法
- ベストプラクティス

**到達目標：**
- [ ] 個人開発で効率的に作業できる
- [ ] チーム開発でjujutsuを活用できる
- [ ] PRの作成からマージまでスムーズに行える
- [ ] よくあるトラブルに対処できる
- [ ] 実際のプロジェクトで使いこなせる

**キーコンセプト：**
- ✨ 頻繁にコミット、PRは前に整理
- ✨ レビュー対応が簡単（force push不要）
- ✨ 複数の作業を並行して進められる
- ✨ すべて元に戻せるから安心

---

### 📚 補足資料

#### [アンチパターン集](docs/jujutsu-hands-on/antipatterns.md)

jujutsuを使う上で**避けるべき行動**と**よくある間違い**をまとめたドキュメントです。

**内容：**
- チーム開発でのアンチパターン
- 履歴編集の落とし穴
- Git連携での間違い
- operation logの誤解
- ブックマーク管理の問題
- コンフリクト解決の失敗
- パフォーマンスの問題

**こんな人におすすめ：**
- 実運用で失敗したくない
- チームでjujutsuを導入する
- トラブルを未然に防ぎたい

---

## 🚀 始め方

### 1. 環境を確認

- macOS、Linux、またはWindows
- ターミナル/コマンドラインの基本操作ができる
- テキストエディタ（nano、vim、VS Codeなど）

### 2. セットアップから始める

まずは [00-setup.md](docs/jujutsu-hands-on/00-setup.md) から始めてください。

```bash
# セットアップガイドを開く
cat docs/jujutsu-hands-on/00-setup.md
```

### 3. 順番に進める

各セクションを順番に進めることをおすすめします。各セクションは前のセクションの知識を前提としています。

### 4. 手を動かして学ぶ

**重要：** ガイドを読むだけでなく、必ず自分でコマンドを実行してください。体で覚えることが大切です！

---

## 📖 学習のポイント

### ✅ Do（推奨）

- 各セクションの「やってみよう」セクションに挑戦する
- エラーを恐れない（いつでも元に戻せます）
- 自分で実験してみる
- わからないことは`jj help COMMAND`で確認
- チェックリストを確認してから次に進む

### ❌ Don't（非推奨）

- ガイドを読むだけで実際に試さない
- エラーが出たらすぐに諦める
- 順番を飛ばす
- チェックリストを無視して次に進む

---

## 🎓 各セクションの推奨学習時間

| セクション | 時間 | 難易度 |
|-----------|------|--------|
| 00-setup | 30分 | ⭐️ |
| 01-basics | 45分 | ⭐️⭐️ |
| 02-branches | 1時間 | ⭐️⭐️⭐️ |
| 03-merging | 1時間 | ⭐️⭐️⭐️ |
| 04-history-editing | 1時間30分 | ⭐️⭐️⭐️⭐️ |
| 05-advanced | 1時間30分 | ⭐️⭐️⭐️⭐️⭐️ |
| 06-workflows | 2時間 | ⭐️⭐️⭐️ |

**合計：約8時間〜9時間**

---

## 💡 jujutsuの主な利点

### 1. シンプルで直感的

- ステージングエリアが不要
- 明確なコマンド体系
- わかりやすいエラーメッセージ

### 2. 強力な履歴編集

- コミット後でも自由に編集
- 安全な操作（すべて元に戻せる）
- クリーンな履歴を簡単に作成

### 3. 柔軟なワークフロー

- 複数の作業を並行して進められる
- 実験的な作業も安心
- 自分に合った方法で使える

### 4. Gitとの互換性

- 既存のGitリポジトリで使える
- GitHubやGitLabと連携可能
- チームメンバーがGitを使っていても問題なし

---

## 📚 補足ドキュメント

### [なぜJujutsuなのか？](docs/jujutsu-hands-on/why-jujutsu.md)

Gitとの比較研究と、チーム導入を検討するための判断材料をまとめたドキュメントです。

**内容：**
- エグゼクティブサマリー（3分で読める導入検討向け）
- 詳細な技術分析（パフォーマンス、学習コスト、マージ処理、協業機能）
- 導入推奨マトリクス（プロジェクト特性別の判断基準）

**こんな人におすすめ：**
- チームでJujutsuの導入を検討している
- Gitとの違いを詳しく知りたい
- 導入のメリット・リスクを理解したい

---

## 🔗 関連リソース

### 公式リソース

- [公式GitHub](https://github.com/martinvonz/jj)
- [公式ドキュメント](https://github.com/martinvonz/jj/tree/main/docs)
- [公式チュートリアル](https://github.com/martinvonz/jj/blob/main/docs/tutorial.md)

### コミュニティ

- [GitHub Discussions](https://github.com/martinvonz/jj/discussions)
- [Issues](https://github.com/martinvonz/jj/issues)

### 参考記事

- [Jujutsu: A Git-compatible DVCS](https://steveklabnik.com/writing/jujutsu-a-git-compatible-dvcs)
- [Chris Krycho's blog on Jujutsu](https://v5.chriskrycho.com/topics/jujutsu/)

---

## 🤝 フィードバック

このガイドについて：

- わかりにくい箇所があった
- 誤りを見つけた
- 追加してほしい内容がある
- 質問がある

上記の場合は、Issueを作成してお知らせください！

---

## 📝 練習用ディレクトリ

このガイドには`playground/`ディレクトリが用意されています。自由に実験してください！

```bash
cd docs/jujutsu-hands-on/playground/
```

---

## 🎉 さあ始めましょう！

準備ができたら、[00-setup.md](docs/jujutsu-hands-on/00-setup.md) から始めてください。

jujutsuの世界へようこそ！楽しい学習を！

---

**最終更新：2025年10月**

このガイドはjujutsu v0.34.0を基に作成されています。
